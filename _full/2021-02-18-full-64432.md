---
layout: full_article
title: "Mood Classification of Balinese Songs with the K-Means Clustering Method Based on the Audio-Content Feature"
author: "I Putu Bayu Wira Brata, I Dewa Made Bayu Atmaja Darmawan"
categories: jik
canonical_url: https://jurnal.harianregional.com/jik/full-64432 
citation_abstract_html_url: "https://jurnal.harianregional.com/jik/id-64432"
citation_pdf_url: "https://jurnal.harianregional.com/jik/full-64432"  
comments: true
---

<p><span class="font1">p-ISSN: 2301-5373</span></p>
<p><span class="font1">e-ISSN: 2654-5101</span></p>
<p><span class="font1">Jurnal Elektronik Ilmu Komputer Udayana</span></p>
<p><span class="font1">Volume 9 No. 3, February 2021</span></p><a name="caption1"></a>
<h1><a name="bookmark0"></a><span class="font2" style="font-weight:bold;"><a name="bookmark1"></a>Mood Classification of Balinese Songs with the K-Means Clustering Method Based on the Audio-Content Feature</span></h1>
<p><span class="font1">I Putu Bayu Wira Brata<sup>a1</sup>, I Dewa Made Bayu Atmaja Darmawan<sup>a2 a</sup>Informatics Department, Faculty of Math and Science, Udayana University Bukit Jimbaran, Badung, Indonesia</span></p>
<p><a href="mailto:1bayuwirabrata@student.unud.ac.id"><span class="font1"><sup>1</sup>bayuwirabrata@student.unud.ac.id</span></a><span class="font1"> </span><a href="mailto:2dewabayu@unud.ac.id"><span class="font1"><sup>2</sup>dewabayu@unud.ac.id</span></a></p>
<p><span class="font1" style="font-weight:bold;font-style:italic;">Abstrak</span></p>
<p><span class="font1" style="font-style:italic;">Bali is a province that has a diversity of arts and can not shunt from songs that come from Bali. Music in Balinese songs has a unique character, both in the variations of the tone that builds up a song and the lyrics contained in a Balinese song. Research on the classification of mood with energy and valence features of a song is often done, especially on western songs. Every music that is thought out has emotional energy that radiates and powerfully connects with human psychology. This research wants to explore whether the features used to classify western songs can also classify Balinese songs, which are rich in the sound of musical instruments according to the tastes of the Balinese themselves. Classification of songs is essential, considering that music is related to specific emotions and moods in humans. In this study, the mood classification of Balinese songs is performed using the Spotify API feature, namely energy and valence. Classification using K-means clustering based on energy and valence features is compared with the song mood data from ten respondents and produces the highest accuracy of 32%.</span></p>
<p><span class="font1" style="font-weight:bold;font-style:italic;">Keywords: </span><span class="font1" style="font-style:italic;">k-means clustering, mood classification, Balinese songs, Spotify API, arousal, valence</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark2"></a><span class="font1" style="font-weight:bold;"><a name="bookmark3"></a>1. &nbsp;&nbsp;&nbsp;Introduction</span></h2></li></ul>
<p><span class="font1">Bali is a province with a diversity of arts, such as Balinese pop songs, with enchanting characteristics. Balinese songs are one of the essential media to help preserve Balinese culture. Besides, Balinese songs are also a vehicle for awakening the character of the young Balinese generation in the future. So do not be surprised if Balinese songs will have music that is rich in tones that can describe the diversity of Bali.</span></p>
<p><span class="font1">Music has become an area of research in applying information retrieval techniques that are interesting to research. Music Information Retrieval or MIR is a branch of music information retrieval technique that has developed rapidly in recent years, as evidenced by the existence of many studies examining how music can be categorized into several emotional states or human moods. Song mood classification is a challenge in the music information retrieval system [1]. Field research includes classification, music data clustering, and music analysis to represent the knowledge in it.</span></p>
<p><span class="font1">Balinese songs have a unique character, both the variations in the tone that make up the song and the lyrics found in Balinese songs. If Balinese songs are classified based on mood, it will make it easier for people if they want to listen to Balinese songs and choose what suits their mood. However, mood classification research is generally only conducted on popular western songs [2]. This study also challenges and an inquiry for researchers whether Western songs, especially the energy and valence used, can classify Balinese songs.</span></p>
<p><span class="font1">Much of the research on MIR has investigated the classification of emotions and moods in music, psychology, signal processing, machine learning, or model integration. MIR uses various data mining methods for grouping, including data classification and grouping such as K-NN, C4.5, decision trees, Support Vector Model (SVM), Artificial Neural Networks, Self Organization Map, K-Means, and so on.</span></p>
<p><span class="font1">This system will be built based on the grouping of mood parameters obtained using the K-Means algorithm. The advantage of this algorithm is that it can perform unsupervised learning by</span></p>
<p><span class="font1">minimizing variation between data in a cluster and maximizing variation with data in other clusters. The dataset used in this study is song feature data from the Spotify playlist. This research can be an engineering system model that can classify Balinese songs into four mood parameters to make it easier for Balinese people to choose songs according to their mood. This system is also able to make Balinese songs more loved by the local community.</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark4"></a><span class="font1" style="font-weight:bold;"><a name="bookmark5"></a>2. &nbsp;&nbsp;&nbsp;Research Method</span><br><br><span class="font1" style="font-weight:bold;"><a name="bookmark6"></a>2.1. &nbsp;System overview</span></h2></li></ul>
<p><span class="font1">The music grouping system for mood using the K-Means algorithm has two main components, namely the input component, the music classification system for mood, and the output component, namely the music mood type label, which can see in Figure 1.Figure 1. The input component obtained from the playlist data set Spotify, and the output is a mood type from one of the defined mood classes.</span></p>
<div><img src="https://jurnal.harianregional.com/media/64432-1.jpg" alt="" style="width:59pt;height:227pt;">
<p><span class="font1" style="font-weight:bold;">Figure 1. </span><span class="font1">System overview</span></p>
</div><br clear="all">
<ul style="list-style:none;"><li>
<h2><a name="bookmark7"></a><span class="font1" style="font-weight:bold;"><a name="bookmark8"></a>2.2. &nbsp;&nbsp;&nbsp;Mood</span></h2></li></ul>
<p><span class="font1">The mood class model used in song classification is the Thayer model, including happy, sad, relax, angry.</span></p>
<h2><a name="bookmark9"></a><span class="font1" style="font-weight:bold;"><a name="bookmark10"></a>Arousal</span></h2>
<div>
<p><span class="font0">Annoying</span></p>
</div><br clear="all">
<div>
<p><span class="font0">(high)</span></p>
<p><span class="font0">Excited</span></p>
</div><br clear="all">
<div>
<p><span class="font0">Angry</span></p>
<p><span class="font0">Nervous</span></p>
</div><br clear="all">
<div>
<p><span class="font0">Happy</span></p>
</div><br clear="all">
<div>
<p><span class="font0">Pleased</span></p>
</div><br clear="all">
<div>
<p><span class="font0">(negative)</span></p>
</div><br clear="all">
<div>
<p><span class="font0">Relaxed</span></p>
</div><br clear="all">
<div>
<p><span class="font0">Peaceful</span></p>
</div><br clear="all">
<div>
<p><span class="font1" style="font-weight:bold;">Valence</span></p>
</div><br clear="all">
<div>
<p><span class="font0">(positive)</span></p>
</div><br clear="all">
<p><span class="font0">Sleepy</span></p>
<p><span class="font1" style="font-weight:bold;">Figure 2. </span><span class="font1" style="font-style:italic;">Mood Thayer model arousal-valence</span><span class="font1"> [3]</span></p>
<p><span class="font1">Figure 2 shows how emotions are represented by valence and arousal (energy). In this study, both features were obtained from the extraction with the Spotify API continuously with the data used. Spotify API, or previously known as the EchoNest API [4, 5], uses signal processing and machine learning to extract all features in music. This machine learning technique simulates how people hear music, combining the principles of psychoacoustics, musical perception, and adaptive learning to model the physical and cognitive processes of human hearing.</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark11"></a><span class="font1" style="font-weight:bold;"><a name="bookmark12"></a>2.3. &nbsp;&nbsp;&nbsp;Balinese Songs</span></h2></li></ul>
<p><span class="font1">Balinese songs are an essential medium to help preserve Balinese culture. This song consists of several exciting instruments that characterize Balinese culture itself, such as flutes, drums, etcetera. At this time, Balinese song music has been combined with various modern musical instruments, making Balinese songs rich in musical instruments in them. The existence of Balinese songs in the 90s initially intends to preserve Balinese art and culture. Balinese song initially believes to be one of the educational media because Balinese song lyrics pay attention to the grammar known as </span><span class="font1" style="font-style:italic;">unggah-ungguhing basa Bali</span><span class="font1"> [6]. The uniqueness of popular culture such as Balinese songs, among others, lies in the simplicity of their content so that they accept by the general public and are more entertaining. With these characteristics, pop songs that use Balinese accept by the Balinese speaking community (Balinese). Therefore, the researcher wants to map the Balinese song's mood so that it is easier for people to find the desired Balinese song based on their mood.</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark13"></a><span class="font1" style="font-weight:bold;"><a name="bookmark14"></a>2.4. &nbsp;&nbsp;&nbsp;Literature and Dataset Studies</span></h2></li></ul>
<p><span class="font1">It was defining the problem that covers the background and problems that will support the system. Literature/report study is an essential stage in starting the research because it is related to theory and summarizes previous research that will form this research. The data acquisition stages in this study used a data set from the Spotify API website. The Spotify Web API provides user-related data, such as playlists and music, that a user stores in the user's music library. The access is activated via selective authorization by the user.</span></p>
<p><span class="font1">Research conducted by [7] suggests various stages in grouping types of songs based on mood. The first stage is preprocessing, in which feature selection will occur. The next stage of feature selection is feature extraction or feature extraction from a song file to find features that enter the next data processing stage. At this stage, a signal processing process requires using the Fourier transform, which functions to change the function or signal in the time domain to the frequency domain. The features used in this study use the features on the Spotify API. The Spotify API [8] uses signal processing and machine learning to extract features in a song. This machine learning technique simulates how people hear music, combining psychoacoustic principles, musical perception, and adaptive learning to model human hearing's physical and cognitive processes. Spotify API can retrieve the value of 11 music features, namely </span><span class="font1" style="font-style:italic;">speechiness</span><span class="font1">, </span><span class="font1" style="font-style:italic;">energy</span><span class="font1">,</span></p>
<p><span class="font1" style="font-style:italic;">danceability</span><span class="font1">, </span><span class="font1" style="font-style:italic;">loudness</span><span class="font1">, </span><span class="font1" style="font-style:italic;">tempo</span><span class="font1">, </span><span class="font1" style="font-style:italic;">mode</span><span class="font1">, </span><span class="font1" style="font-style:italic;">valence</span><span class="font1">, </span><span class="font1" style="font-style:italic;">instrumentals</span><span class="font1">, </span><span class="font1" style="font-style:italic;">acousticness</span><span class="font1">, and </span><span class="font1" style="font-style:italic;">liveliness</span><span class="font1">). The features used in this study are the energy and valence features, as done by [9] as a feature representing the mood of a Balinese song used in the classification process.</span></p>
<p><span class="font1">The clustering process in this study uses the K-Means algorithm, where the data mining algorithm performs the modelling process without supervision (unsupervised learning) and is one of the algorithms that perform data grouping using the partition system [10]. The K-Means method attempts to classify existing data into several groups, where the data in one group have the same characteristics as each other and have different characteristics from the data in other groups [1]. In other words, this algorithm seeks to minimize variation between data in a cluster and maximize variation with data in other clusters.</span></p>
<p><span class="font1">The dataset used is 50 Balinese songs obtained from Spotify, where the first five datasets we use are:</span></p>
<p><span class="font1" style="font-weight:bold;">Table 1. </span><span class="font1">Footage of Balinese song datasheet</span></p>
<table border="1">
<tr><td style="vertical-align:middle;">
<p><span class="font1">No</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Title</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Artist</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Energy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Valence</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">1</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Jodoh</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Jun Bintang</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.44</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.745</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">2</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Song Brerong</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">A. A. Raka Sidan</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.487</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.489</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">3</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Ketut Garing</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Emoni Bali</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.317</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.827</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">4</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Don Dapdape</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Puspa Dewi</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.266</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.34</span></p></td></tr>
<tr><td style="vertical-align:top;">
<p><span class="font1">5</span></p></td><td style="vertical-align:top;">
<p><span class="font1">Tresna Terlarang</span></p></td><td style="vertical-align:top;">
<p><span class="font1">Lebri Partami</span></p></td><td style="vertical-align:top;">
<p><span class="font1">0.598</span></p></td><td style="vertical-align:top;">
<p><span class="font1">0.554</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">...</span></p>
<p><span class="font1">50</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">...</span></p>
<p><span class="font1">Rindu Ngantosang Janji</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">...</span></p>
<p><span class="font1">Putri Bulan</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">...</span></p>
<p><span class="font1">0.614</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">...</span></p>
<p><span class="font1">0.614</span></p></td></tr>
</table>
<ul style="list-style:none;"><li>
<h2><a name="bookmark15"></a><span class="font1" style="font-weight:bold;"><a name="bookmark16"></a>2.5. &nbsp;&nbsp;&nbsp;Valence-Arousal</span></h2></li></ul>
<p><span class="font1">Valence and arousal are popular features in the introduction of emotions or moods in songs. The Valence-arousal model is a dimensional model that depicts various emotions in a 2dimensional plane [9]. The horizontal axis is the valence representing positive and negative, and the vertical axis is the stimulus representing joy and calm. In this study, the value we use is between 0 and 1, and each quadrant will describe the emotions of happy, sad, relaxed, and angry.</span></p><img src="https://jurnal.harianregional.com/media/64432-2.jpg" alt="" style="width:237pt;height:164pt;">
<p><span class="font1" style="font-weight:bold;">Figure 3. </span><span class="font1" style="font-style:italic;">Primary emotion arousal-valence Thayer's model</span><span class="font1"> [7]</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark17"></a><span class="font1" style="font-weight:bold;"><a name="bookmark18"></a>2.6. &nbsp;&nbsp;&nbsp;K-Means Clustering</span></h2></li></ul>
<p><span class="font1">K-Means is a non-hierarchical data clustering method that attempts to partition existing data into one or more clusters/groups. The K-Means Clustering algorithm can help in improving the performance of researchers and saving time. Also, grouping aims to hide music information in several unique codes to hide music information.</span></p>
<p><span class="font1">The K-Means clustering stage begins with determining the number of clusters (k) to classify the test data as input data, grouped into several k clusters. For example, if there are 400 rows of data in the dataset, and need to form four mood clusters, k is four clusters. This algorithm then takes four data records randomly from the dataset to form the initial cluster. The steps for clustering using the K-Means method are as follows [11] :</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">a. &nbsp;&nbsp;&nbsp;Select the number of clusters k.</span></p></li>
<li>
<p><span class="font1">b. &nbsp;&nbsp;&nbsp;Cluster centre initialization can do in various ways. However, it can do randomly. The centre of the cluster is assigned an initial value with a random number.</span></p></li>
<li>
<p><span class="font1">c. &nbsp;&nbsp;&nbsp;Allocate all data/objects to the closest cluster. The proximity of two objects is determined based on the distance between the two objects. Likewise, data closeness to a particular cluster is determined by the distance between the data and the cluster centre. In this stage, it is necessary to calculate the distance of each data to each cluster centre. The most distance between one data and one particular cluster will determine which data is included in which cluster. The distance between the data to each cluster centre-point can be calculated using the Euclidean distance theory, which is formulated as follows :</span></p></li></ul>
<p><span class="font4" style="font-style:italic;"><sup>D</sup>(l,j)</span><span class="font5"> = √(</span><span class="font4"><sup>χ</sup></span><span class="font3">ιι </span><span class="font5">- ^</span><span class="font3">ij</span><span class="font5">)<sup>2</sup> + </span><span class="font4" style="font-style:italic;"><sup>(X</sup>2l</span><span class="font4"> <sup>- </sup></span><span class="font4" style="font-style:italic;"><sup>X</sup>2j~</span><span class="font5" style="font-style:italic;">)<sup>2</sup></span><span class="font3"><sup> +</sup>-----</span><span class="font4"><sup>+</sup> </span><span class="font5" style="font-style:italic;">(X</span><span class="font4" style="font-style:italic;">kl</span><span class="font4"> <sup>- </sup></span><span class="font4" style="font-style:italic;"><sup>X</sup>kj<sup>)2</sup></span><span class="font2"><sup> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)</sup></span></p>
<p><span class="font1">Where :</span></p>
<p><span class="font5" style="font-style:italic;">D(i,j)</span><span class="font1"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= distance of data to </span><span class="font5" style="font-style:italic;">i</span><span class="font1"> to cluster centre </span><span class="font5" style="font-style:italic;">j</span></p>
<p><span class="font5" style="font-style:italic;">X</span><span class="font3" style="font-style:italic;"><sub>kl</sub></span><span class="font1"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= Data </span><span class="font5" style="font-style:italic;">i</span><span class="font1"> to data attribute </span><span class="font5" style="font-style:italic;">k</span></p>
<p><span class="font5" style="font-style:italic;">X</span><span class="font3" style="font-style:italic;"><sub>kj</sub></span><span class="font1"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= The </span><span class="font3" style="font-style:italic;">j</span><span class="font1"> centre of the </span><span class="font5" style="font-style:italic;">k</span><span class="font1"> attribute</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">d. &nbsp;&nbsp;&nbsp;Recalculate cluster centres with current cluster membership. The cluster centre is the average of all data/objects in a particular cluster. Apart from the mean, the cluster median can be used because of the mean, not the only measure that describes the cluster's centre.</span></p></li>
<li>
<p><span class="font1">e. &nbsp;&nbsp;&nbsp;Assign each object again using the new cluster centre. If the cluster centre does not change again, the clustering process is complete. Alternatively, go back to step number three until the cluster centre does not change anymore.</span></p></li></ul>
<ul style="list-style:none;"><li>
<h2><a name="bookmark19"></a><span class="font1" style="font-weight:bold;"><a name="bookmark20"></a>2.7. &nbsp;&nbsp;&nbsp;Testing</span></h2></li></ul>
<p><span class="font1">Testing the k-means method in classifying the mood of Balinese pop songs is done by testing the accuracy of the data that respondents previously labelled. Respondents have often listened to Balinese songs before—seen as many as ten respondents to rate each mood for each Balinese song in the dataset according to 4 mood classes: angry, sad, happy, and relaxed. Respondents are given a questionnaire to fill in the angry, sad, happy, and relax scale values from 1-5 on a song, and the rating of each song will look for the highest class average for each song for all respondents.</span></p>
<p><span class="font1">The song data used in the test comprises 50 Balinese songs with their valence and energy features taken from the Spotify API. The songs will be listened to the respondents and asked to fill out an assessment questionnaire for each song. The mood label results of the respondent's assessment of each song will be compared with the classification results using K-Means clustering, and the accuracy is calculated based on false predictions and correct predictions from the classifier.</span></p>
<ul style="list-style:none;"><li>
<h2><a name="bookmark21"></a><span class="font1" style="font-weight:bold;"><a name="bookmark22"></a>3. &nbsp;&nbsp;&nbsp;Research result</span></h2></li></ul>
<p><span class="font1">Data analysis of ten student respondents was made as a result of the research. The ten students correctly filled the song's mood objectively based on the audio content without paying attention to the lyrics or the respondent's mood. After seeing the data collection results, there is no single song with the highest average in the angry mood class, so the respondent's mood class data is only in the happy, relaxed, and sad classes. In response to this, the K-Means classification results will be compared with three clusters and four clusters. The feature mean scores for each cluster will be classified according to the dimensional mood model. The following is the average value of energy and valence in K-Means clustering with 3 clusters and 4 clusters</span><span class="font1" style="font-style:italic;">.</span></p>
<p><span class="font1" style="font-weight:bold;">Tabel 2. </span><span class="font1">Average feature value with 3 clusters</span></p>
<table border="1">
<tr><td style="vertical-align:middle;">
<p><span class="font1">Cluster</span></p></td><td style="vertical-align:middle;">
<p><span class="font1" style="font-style:italic;">Energy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1" style="font-style:italic;">Valence</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Mood</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">0</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.63</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.66</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">1</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.50</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.51</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">2</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.48</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.52</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td colspan="4" style="vertical-align:middle;">
<p><span class="font1" style="font-weight:bold;">Tabel 3. </span><span class="font1">Average feature value with 4 clusters</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Cluster</span></p></td><td style="vertical-align:middle;">
<p><span class="font1" style="font-style:italic;">Energy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1" style="font-style:italic;">Valence</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Mood</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">0</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.49</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.57</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">1</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.50</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.48</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">2</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.52</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.54</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Angry</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">3</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.64</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">0.64</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td></tr>
</table>
<ul style="list-style:none;"><li>
<h2><a name="bookmark23"></a><span class="font1" style="font-weight:bold;"><a name="bookmark24"></a>3.1. &nbsp;&nbsp;&nbsp;Mood Identification by K-means and Respondent</span></h2></li></ul>
<p><span class="font1">The K-means algorithm is used in mood classification based on the Spotify API valence feature and energy list data for each cluster. The following is a sample of the data from the classification results using K-means clustering.</span></p>
<p><span class="font1" style="font-weight:bold;">Tabel 4. </span><span class="font1">Snippets of the classification results</span></p>
<table border="1">
<tr><td style="vertical-align:middle;">
<p><span class="font1">Title</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Respondent Mood</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">The highest class average score</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Mood 4 </span><span class="font1" style="font-style:italic;">cluster</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Bedak Uling Bangli</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.14</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Buleleng Karangasem</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.29</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Dangap Dangap</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.57</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Angry</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Depang Tiang Bagia</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.83</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Angry</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Don Dapdape</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.00</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Formalin Sik Luh</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.43</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Gek Cantik</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.00</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Hubungan Tanpa Status</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.71</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Jenggot Uban</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.14</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Jodoh</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.43</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
</table>
<p><span class="font1">Following the test scenario, the results of song classification based on energy and valence features obtained from the Spotify API will be measured for their accuracy against the respondent's data. The results of the song classification will be calculated, which have the same class as the respondent's data so that its accuracy can be seen.</span></p>
<p><span class="font1">Classification using K-means clustering with 4 clusters has the same song class prediction as to the respondent's data of 16 songs from 50 songs in the dataset, resulting in an accuracy of 32%. This small accuracy happens because the respondents' survey of 50 Balinese songs did not have an angry mood. If the writer considers that Balinese songs cannot be described with an angry mood, then we will try an approach using only three mood clusters, namely happy, sad, and relaxed.</span></p>
<p><span class="font1" style="font-weight:bold;">Tabel 5. </span><span class="font1">Snippets of the classification results of 3 clusters and 4 clusters</span></p>
<table border="1">
<tr><td style="vertical-align:bottom;">
<p><span class="font1">Title</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">Respondent Mood</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">The highest class average</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">Mood 4 </span><span class="font1" style="font-style:italic;">cluster</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">Mood 3 </span><span class="font1" style="font-style:italic;">cluster</span></p></td></tr>
<tr><td style="vertical-align:top;"></td><td style="vertical-align:top;"></td><td style="vertical-align:top;">
<p><span class="font1">score</span></p></td><td style="vertical-align:top;"></td><td style="vertical-align:top;"></td></tr>
</table>
<table border="1">
<tr><td style="vertical-align:middle;">
<p><span class="font1">Bedak Uling Bangli</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.14</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Buleleng Karangasem</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.29</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Dangap Dangap</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.57</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Angry</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Depang Tiang Bagia</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.83</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Angry</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Don Dapdape</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.00</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Formalin Sik Luh</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.43</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Gek Cantik</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.00</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Hubungan Tanpa Status</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.71</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Relax</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Jenggot Uban</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">4.14</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td></tr>
<tr><td style="vertical-align:middle;">
<p><span class="font1">Jodoh</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">3.43</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:middle;">
<p><span class="font1">Sad</span></p></td></tr>
</table>
<p><span class="font1">The classification using K-means clustering with 3 clusters has the same song class prediction as to the respondent's data of 20 songs from a total of 50 songs in the dataset, resulting in an accuracy of 40%. If seen in table 4 above, there is a classification of class results with 4 clusters with angry class, and because the respondent data of the mood class are not angry, it causes several songs to enter the angry cluster. Whereas in the 3 clusters classification, several clusters that were previously classified as angry in 4 clusters had the correct prediction of the respondent data class.</span></p>
<p><span class="font1" style="font-weight:bold;">Tabel 6. </span><span class="font1">Comparison of the number of songs with the identified mood</span></p>
<table border="1">
<tr><td rowspan="2" style="vertical-align:middle;">
<p><span class="font1">Total songs with mood</span></p></td><td colspan="3" style="vertical-align:bottom;">
<p><span class="font1">Type Classification</span></p></td></tr>
<tr><td style="vertical-align:bottom;">
<p><span class="font1">Respondent Mood Total</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">K-Means Clustering Mood total (4 clusters)</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">K-Means Clustering Mood total (3 clusters)</span></p></td></tr>
<tr><td style="vertical-align:bottom;">
<p><span class="font1">Happy</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">19</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">13</span></p></td><td style="vertical-align:bottom;">
<p><span class="font1">14</span></p></td></tr>
<tr><td style="vertical-align:top;">
<p><span class="font1">Relax</span></p></td><td style="vertical-align:top;">
<p><span class="font1">16</span></p></td><td style="vertical-align:top;">
<p><span class="font1">13</span></p></td><td style="vertical-align:top;">
<p><span class="font1">18</span></p></td></tr>
<tr><td style="vertical-align:top;">
<p><span class="font1">Sad</span></p></td><td style="vertical-align:top;">
<p><span class="font1">15</span></p></td><td style="vertical-align:top;">
<p><span class="font1">18</span></p></td><td style="vertical-align:top;">
<p><span class="font1">18</span></p></td></tr>
<tr><td style="vertical-align:top;">
<p><span class="font1">Angry</span></p></td><td style="vertical-align:top;">
<p><span class="font1">0</span></p></td><td style="vertical-align:top;">
<p><span class="font1">6</span></p></td><td style="vertical-align:top;">
<p><span class="font1">0</span></p></td></tr>
<tr><td style="vertical-align:top;">
<p><span class="font1">Total</span></p></td><td style="vertical-align:top;">
<p><span class="font1">50</span></p></td><td style="vertical-align:top;">
<p><span class="font1">50</span></p></td><td style="vertical-align:top;">
<p><span class="font1">50</span></p></td></tr>
</table>
<ul style="list-style:none;"><li>
<h2><a name="bookmark25"></a><span class="font1" style="font-weight:bold;"><a name="bookmark26"></a>4. &nbsp;&nbsp;&nbsp;Conclusion</span></h2></li></ul>
<p><span class="font1">This research has obtained song mood classifications based on audio features, namely energy, and valence obtained from the Spotify API dataset. This study was tested by comparing the K-means clustering classification results with subjective data from ten student respondents. The data taken is the scale value of 4 mood classes for each song. After taking the respondents' data, none of the 50 songs had an angry mood class, so the classification results with 3 clusters and 4 clusters are compared for accuracy.</span></p>
<p><span class="font1">Classification with 3 clusters resulted in an accuracy of 40 %. This accuracy is higher than the classification with 4 clusters, resulting in an accuracy of only 32 %. This is due to the data of respondents known for being happy, relaxed, and sad. However, it can be neglected that the features of the Spotify API and the song classification using K-means clustering with these features on the object of Balinese song research resulted in the highest of 40 %. As a suggestion for further research, use the features of the Spotify API in addition to the energy and valence features because the Spotify API provides various dataset features.</span></p>
<h2><a name="bookmark27"></a><span class="font1" style="font-weight:bold;"><a name="bookmark28"></a>Reference</span></h2>
<ul style="list-style:none;"><li>
<p><span class="font1">[1] &nbsp;&nbsp;&nbsp;&nbsp;I. G. Harsemadi and I. M. Sudarma, &quot;Penggolongan Musik Terhadap Suasana Hati</span></p></li></ul>
<p><span class="font1">Menggunakan Metode K-Means,&quot; </span><span class="font1" style="font-style:italic;">E-Proceedings KNS&amp;I STIKOM Bali,</span><span class="font1"> pp. 49-54, 2017.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[2] &nbsp;&nbsp;&nbsp;I. N. Mardika and I. D. P. Sumantra, &quot;LAGU POP BALI DALAM PELESTARIAN BUDAYA</span></p></li></ul>
<p><span class="font1">BALI,&quot; </span><span class="font1" style="font-style:italic;">KULTURISTIK: Jurnal Bahasa dan Budaya,</span><span class="font1"> vol. 4, no. 1, pp. 74-81, 2020.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[3] &nbsp;&nbsp;&nbsp;&nbsp;Y.-H. Yang, Y.-C. Lin, Y.-F. Su, and H. H. Chen, &quot;A regression approach to music emotion</span></p></li></ul>
<p><span class="font1">recognition,&quot; </span><span class="font1" style="font-style:italic;">IEEE Transactions on audio, speech, and language processing,</span><span class="font1"> vol. 16, no. 2, pp. 448-457, 2008.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[4] &nbsp;&nbsp;&nbsp;&nbsp;A. Lesmana, &quot;Pemanfaatan Wearable Device Dan Spotify Api Untuk Merekomendasikan</span></p></li></ul>
<p><span class="font1">Lagu Berdasarkan Mood Dan Aktivitas Pengguna Berbasis Android,&quot; Universitas Komputer Indonesia, 2019.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[5] &nbsp;&nbsp;&nbsp;&nbsp;G. A. V. M. Giri, &quot;Klasifikasi Musik Berdasarkan Genre dengan Metode K-Nearest</span></p></li></ul>
<p><span class="font1">Neighbor,&quot; </span><span class="font1" style="font-style:italic;">Jurnal Ilmu Komputer,</span><span class="font1"> vol. 11, no. 2, pp. 103-108, 2018.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[6] &nbsp;&nbsp;&nbsp;&nbsp;L. S. Nyoman and S. Ni Wy, &quot;Laporan Akhir Penelitian Dosen Pemula&quot; Komodifikasi</span></p></li></ul>
<p><span class="font1">Code-Mixing Bahasa Inggris Dalam Lirik Lagu POP Bali: Studi Kasus Lirik Lagu Kis Band,&quot; 2013.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[7] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S. Pouyanfar and H. Sameti, &quot;Music emotion recognition using two level classification,&quot;</span></p></li></ul>
<p><span class="font1">in </span><span class="font1" style="font-style:italic;">2014 Iranian Conference on Intelligent Systems (ICIS)</span><span class="font1">, 2014: IEEE, pp. 1-6.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[8] &nbsp;&nbsp;&nbsp;&nbsp;A. Spotify, &quot;Spotify Developer,&quot;</span><a href="https://developer.spotify.com/Bali-Song's-Mood-Classification"><span class="font1"> &nbsp;</span><span class="font1" style="font-style:italic;text-decoration:underline;">https://developer.spotify.com/Bali-Song's-Mood-</span></a></p></li></ul>
<p><a href="https://developer.spotify.com/Bali-Song's-Mood-Classification"><span class="font1" style="font-style:italic;text-decoration:underline;">Classification</span><span class="font1">.</span></a></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[9] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S. Sangnark, M. Lertwatechakul, and C. Benjangkaprasert, &quot;Thai music emotion</span></p></li></ul>
<p><span class="font1">recognition based on western music,&quot; in </span><span class="font1" style="font-style:italic;">Journal of Physics: Conference Series</span><span class="font1">, 2019, vol. 1195, no. 1: IOP Publishing, p. 012009.</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">[10] &nbsp;&nbsp;&nbsp;</span><span class="font1" style="font-style:italic;">Spotify-Emotions-Project</span><span class="font1">. (2019).</span></p></li>
<li>
<p><span class="font1">[11] &nbsp;&nbsp;&nbsp;R. W. Sari, A. Wanto, and A. P. J. K. Windarto, &quot;Implementasi Rapidminer Dengan</span></p></li></ul>
<p><span class="font1">Metode K-Means (Study Kasus: Imunisasi Campak Pada Balita Berdasarkan Provinsi),&quot; vol. 2, no. 1, 2018.</span></p>
<p><span class="font1">338</span></p>